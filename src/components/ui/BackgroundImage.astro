---
interface Props {
  src: string;
  alt?: string;
  className?: string;
  overlayColor?: string;
}

const {
  src,
  alt = "Background image",
  className = "",
  overlayColor = "",
} = Astro.props;
---

<div class={`background-wrapper ${className}`}>
  <div class="background-overlay"></div>
  <img src={src} alt={alt} />
  <div class="content">
    <slot />
  </div>
</div>

<style define:vars={{ overlayColor }}>
  .background-wrapper {
    position: relative;
    width: 100%;
    height: 100%;
    overflow: hidden;
  }

  .background-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: var(--overlayColor);
    z-index: 1;
  }

  img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .content {
    position: relative;
    z-index: 2;
  }
</style>
