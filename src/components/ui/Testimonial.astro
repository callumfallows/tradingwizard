---
import { Icon } from 'astro-icon/components';

export const testimonials = [
  {
    text: `Encore merci Jonathan de m'accompagner dans les premiers pas des formations Wizard Trading. L'idée pour moi était d'apprendre/réapprendre et de renforcer les bases pour ensuite monter en compétence sur les prochaines formations.
C'est à la fois technique et accessible à tout public s'intéressant au domaine de l'investissement boursier.
Avec en plus un suivi de proximité! Top!`,
    author: 'DE AZEVEDO',
    rating: 5,
  },
  {
    text: `Domaine totalement opaque pour moi, ce séminaire m' a amene assez de connaissances sur les bases du fonctionnement des investissements financiers pour être autonomme 
    sur l'analyse des evolutions du marché, en particulier des cryptos, afin de gérer de manière sereine de futurs investissements.
     Le formateur est à l'écoute de chacun et développe chacun des questionnements des intervenants . Le séminaire à d’ailleurs duré 2 hrs de plus que prévu afin de répondre à toutes les questions des intervenants.`,
    author: 'Philippe Legrand',
    rating: 5,
  },
  {
    text: `Je recommande, formation riche en explication avec un suivie et une vraie présence de Jonathan au quotidien pour répondre à nos interrogations.`,
    author: 'Mickaël Coelho',
    rating: 5,
  },
  {
    text: `Formation sérieuse et de plus avec des cas, mises en situations réels, et nombreuses explications, Jonathan est expérimenté et de très bons conseils indispensables dans un univers particulier.
Je recommande.`,
    author: 'Stéphane Neveu',
    rating: 5,
  },
];
---

<div class="w-full flex justify-end mx-auto px-0 md:px-4 py-r sm:py-8">
  <div class="grid grid-cols-1 md:grid-cols-2 w-full justify-center gap-20 md:gap-8">
    {
      testimonials.map(testimonial => (
        <div class="flex flex-row px-4 items-center md:items-start justify-star md:justify-center">
          <div class="flex flex-col items-center gap-0">
            <div class="bg-white p-6 rounded-lg shadow-lg mb-8 relative w-full max-w-lg">
              <p class="text-gray-700 text-sm sm:text-md leading-relaxed">"{testimonial.text}"</p>
              <div class="absolute -bottom-4 left-1/2 -translate-x-1/2 w-0 h-0 border-l-[12px] border-l-transparent border-t-[16px] border-t-white border-r-[12px] border-r-transparent" />
            </div>
            <div class="flex gap-1 mb-3">
              {[...Array(testimonial.rating)].map(() => (
                <div class="star-icon">
                  <Icon name="mdi:star" class="w-5 h-5 text-yellow-400" />
                </div>
              ))}
            </div>
            <p class="font-semibold text-white">{testimonial.author}</p>
          </div>
        </div>
      ))
    }
  </div>
</div>

<script is:inline>
  function animateStars() {
    const stars = document.querySelectorAll('.star-icon');

    stars.forEach(star => {
      setInterval(() => {
        star.style.transform = 'scale(1.3)';
        setTimeout(() => {
          star.style.transform = 'scale(1)';
        }, 500);
      }, Math.random() * 5000);
    });
  }

  document.addEventListener('DOMContentLoaded', () => {
    animateStars();
  });
</script>

<style>
  .star-icon {
    transition: transform 0.5s ease;
  }
</style>
