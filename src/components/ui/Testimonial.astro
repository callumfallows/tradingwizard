---
import { Icon } from 'astro-icon/components';

export const testimonials = [
  {
    text: `Ayant pris quelques coaching avec Jonathan on voit qu'il connait son sujet!  
    Il est confiant dans sa stratégie qui est basé sur les volumes profil, mais il a également le recul et l'experience pour conseiller sur d'autres stratégies. Il utilise les propfirm, ce qui permet de pouvoir genérer des revenus sans utiliser son propre capital.
Il est super sympa, à l'écoute et très pédagoge.
Je le recommende à toutes les personnes qui veulent se former au trading ou améliorer leurs performances.`,
    author: 'Jonathan Brulhart',
    rating: 5,
  },
  {
    text: `Débutant dans ce domaine des cryptos, le suivi et les conseils avisés la formation donné part jonathan m on permis de réaliser un gain de 1400 E en un mois sur avec un investissement de 10 000 EUROS, Jonathan nous enseigne une approche prudente et réflechie afin de réussir nos investissement.`,
    author: 'Stéphane Neveu',
    rating: 5,
  },
  {
    text: `J’ai bénéficié de très bons conseils de la part de Jonathan concernant les cryptos et le trading, notamment sur les points d’entrée. Jonathan est un vrai professionnel de l’investissement et il a de solides connaissances dans ce domaine.
Il est passionné et pédagogue, ses explications sont claires et sa méthode facile à comprendre. Merci Jonathan!`,
    author: 'Marie B',
    rating: 5,
  },
  {
    text: `Le séminaire Wizard Trading m’a permis de parfaitement comprendre l’environnement crypto.
Jonathan est un vrai professionnel expert et passionné et le suivi et l’accompagnement post séminaire est génial.
Jonathan est toujours disponible pour nous aider individuellement ou collectivement à évoluer dans ce nouveau monde et nous forme parfaitement pour mettre en place une STRATEGIE et la mettre en œuvre.
Grâce  à Jonathan J’ai pu faire des points d’entrée sur les marchés immédiatement profitables.
Je recommande les yeux fermés.
Merci Jonathan.`,
    author: 'Nicolas Kott',
    rating: 5,
  },
];
---

<div class="w-full flex justify-end mx-auto px-0 md:px-4 py-r sm:py-8">
  <div class="grid grid-cols-1 md:grid-cols-2 w-full justify-center gap-20 md:gap-8">
    {
      testimonials.map(testimonial => (
        <div class="flex flex-row px-4 items-center md:items-start justify-star md:justify-center">
          <div class="flex flex-col items-center gap-0">
            <div class="bg-white p-6 rounded-lg shadow-lg mb-8 relative w-full max-w-lg">
              <p class="text-gray-700 text-sm sm:text-md leading-relaxed">"{testimonial.text}"</p>
              <div class="absolute -bottom-4 left-1/2 -translate-x-1/2 w-0 h-0 border-l-[12px] border-l-transparent border-t-[16px] border-t-white border-r-[12px] border-r-transparent" />
            </div>
            <div class="flex gap-1 mb-3">
              {[...Array(testimonial.rating)].map(() => (
                <div class="star-icon">
                  <Icon name="mdi:star" class="w-5 h-5 text-yellow-400" />
                </div>
              ))}
            </div>
            <p class="font-semibold text-white">{testimonial.author}</p>
          </div>
        </div>
      ))
    }
  </div>
</div>

<script is:inline>
  function animateStars() {
    const stars = document.querySelectorAll('.star-icon');

    stars.forEach(star => {
      setInterval(() => {
        star.style.transform = 'scale(1.3)';
        setTimeout(() => {
          star.style.transform = 'scale(1)';
        }, 500);
      }, Math.random() * 5000);
    });
  }

  document.addEventListener('DOMContentLoaded', () => {
    animateStars();
  });
</script>

<style>
  .star-icon {
    transition: transform 0.5s ease;
  }
</style>
